{
  "Name": "Test2",
  "Constants": [
    {
      "Name": "TravelDate",
      "Value": "2019-09-01",
      "Type": "date"
    },
    {
      "Name": "AdultCount",
      "Value": "1",
      "Type": "int"
    },
    {
      "Name": "YouthCount",
      "Value": "2",
      "Type": "int"
    },
    {
      "Name": "EncryptedCardNumber",
      "Value": "adyenjs_0_1_24$KtspOfCcuKdDGZNB7+l+4Y0CvigaMzwoAApmMUVYaHZQUHVRIpWJgxXM2LOMbtTcaNWN/d+W865ZXkQwVlEe+GZySrycpk/v4tkGBIMufQhLsHhduTyhiZTcHTug/PFllP2+441ykUlk1cP6SoOdYroukLUxASZ56UoU85Bc/TW6ZGMACn6FSoRA/wQv+Lf22V+qokTYAbERBuFwRiD9pt2l9y3OImY+p4DkQLiNJeqLz+WbTq4tK0KD/9z98hC9BXAYH43G9AumUfv8Bx5p04+AOOBQU/yQ+aFdAoi6/e5XtVLF16yCLcEbN9k/rHmzoFBcsfq/E6CGnaaG67yhZA==$oTLb5W7sFNxaRxFQcsO2CgGpXAVyVnpunrx2hJgXS90/nrWrs4+T5Mb7iuXT0FQ4t4CojvBSSY4ZxGXdEPbnfXxZnXOswyCBb2CjcOPAJOSiFy2yaBN1Xfy31HJGLxi4g4TnCgUbD2YRlSu3Cnhitv0QmqtumdanRIox1oNUr3qJApE+/c5nN0EovWJMBTKrFWJWEIEpJYwM7bDY4OJSBHsy4nUBZytKxjKeFxk98P2XiQzpIShAI+Q2K4HqZRs5qJEGu/xtDTj3lmLFWR2En2XaZibu7xebY4mCa9sdA5U1WNBsdxqFP8Pyrk+aUsVaNniAsJW3q12OB2J/XbvtIWSiWHCdISjsXJEU7NsdFcG6M/cBCPxKIhykZ3ohWn0x/dDeyzEWrFkyD2qbc3MdjB6/J6JVP5qeeZ3q+jPKaZB6xIRIvNJLXZLHVgS+LeEGCjn/q8RXTF0AXCbQjoMiMkknZ7wwwyXmcdql/wILyvqJ/ObNnbaVC6EJL1hObPeTpylVgssp1fPW1gJQPuiwl8zvR0OP2bLfdgiif8VYCnTvCCK1RegR7r9eY5Nuvwphmk8Lxdz1OI2l4R2XLdGU8rVYNW9Y2j4aOvRp85VpH2LeUIsWteeIb6cl8Cph1l0K15f5QUewvSpkwoF06S1ZHpbv9x3vy8lOZz6Y1Z0qVeWfpP1WPpMFhaHx2pzxdhQA3FgUHO8MohNO+LbS6z2fouvegBfeg0FrTPpoJj50tZ0aJJV99AzztW3HZSk5t3veEKtP64i+58Zx1wtMXKdpz/mbFLDAH3p+G5W5hMxMXD8sP4SA6qf3Ha/GDI5q7+IhjdkuML4Gw6gk3yP4WfvpzyNco2kKTDMPGLhkV62/DFYHVx6S2+XMqxRrI9nGr5Qy8kNiBWZ2WmOFzl9ZnvNf77ZiXWf1lafR2JyoDj5jgpilKYAN"
    },
    {
      "Name": "EncryptedExpiryMonth",
      "Value": "adyenjs_0_1_24$ulLve2eFtJjPTqHXrTwbb1ZwQv/pc0Lx6JHCmF9upe0p3OQCGllUDgLLepNPVCLTHHbbYyeyUIAui1zm3pyy5TB4O4zEWNT2gKwSER+5HK/5BEmZ+r92x+4Igk+Uwzhogi+T2qGvRycUUvTBlk505mDXu5Bu8bNI9UW9HstEO+TsuwlWIjstVs6ANOXo9UTA1TPrA22ccQ35pliXVegt3NrHzE4cl16Yq3EIpyzh1IkbHRrYVyOI5rmnvj4HqKCnV2XUlw/d89k3TQXx+vGfvMSzx96C3y1qHOudxlb027sRiS/cQfQXqqZaMUsV8uxKqswJaYb2fyeDOt8+1yNbuQ==$3d8EKFXJZuylRFZiMXqami8VZU1yb+CgWJeW3rnEvZKIbMRd3Por4RciF9O0ByvF+GZK8u66irXWXYFkPhd2DKBikm7Gx2pGMRkkP2VyhTMthOFIJbv66G9OzAbgSQc4G+TOmGcn+7lJDoKz3TIpwCjPhWyBSXUb2XoE6Mr6hoQ82w+o4IfLwgEdUCUd5nYybglImnyL1i+3gCnlFkT8KNVDBmbo2HCALyfhdcdPBBUNyv0YBegCslRUAzDsxY6eaYYehgYpU0jh1rFUc8rRyTM88abWwLRw1K5aHcMBoozxbr2pAB0FOmgx/m9hGI6qJXCvkgESCSjDL4jh710u/O5qP9ItQabaBNW2shwhGSEPocTNjuno4Zt7poQ93+8hyhGxycCnbxR186cybFGBcl+X68UyylGxh0mS8LK+VJOor+fotHPfGyyBaU493KnQGVjZdo+IuIwBL6FzTHQg3OZMcjg="
    },
    {
      "Name": "EncryptedExpiryYear",
      "Value": "adyenjs_0_1_24$Sa2ZM0K5SOmiD5Vmm1jndMpr5CPP1jQUhD5MDxnVc6geGZCmZ+mUAAKD15ZbSSj1TF7zpnJam/rsEbidT+Z8wv7LwoWqj+6nD8R974Wj4mfk8VINpxsT4zQJhWBCK7nWnN6qhw/h26orvItWccQJmjSBgr0/t6nAJSelOmQRhWAX4LK1wjPMYNmLw42uu6IvV4o10uKSr2dVGt6gT8TgPqv5EywpbiZpSXTN3wukoMt/cQmRMoip272FbVNaS+Je2Is07QswgyuXQasG8315aR2hcPCL04cMvof4UuJ0/sR8Kq2jQb0IzrYH6CL5fXDdUYyxhry6CWkx0KqypTodGQ==$gbGMkS10sR43zu5kVXaDw6TjIXb7uTCzt/2Yjo4sWDCe11rHL8a6Fvzr6gcPAR/w5pY7cwPtAOMGQqZbz+suqv/VTlkvECUrx3NHZYkZo6mU+QymJgNO3raxYuoEmP8E+29fxZP4meCFy86zZgr2Zn1UkkIhTwqGLFy8zYha8qAdxLPidAnbfE15pp03I2NFxxXaZinR0H4/ZD21ZgMq91H+PQ+67YiBxraXRjQDzqMJpLgUsquPeAXseut5c66fNevLCnU4idolM9bHYuQ8aP/vBPTgHEKOEsDOG5t3PEiSUJIILrUhUjzSxEbUJusxpFUTQj35rTCGFHNnstR4LD2t3JpnNyMDdNlXXaxB03CzEzLJOX+lQOJDPwCvZHbipSZoL2FCtS6SfCfGyIsuIg9HLRFW9DUfAj7PTeqr2UqyoU7nfmhRfjMyvLJE3gqldbchy4vjn5F3OLrHFmvmL7WfKptt"
    },
    {
      "Name": "EncryptedSecurityCode",
      "Value": "adyenjs_0_1_24$VKnmQpdd7RLnb2L8/FjnD1hNFKszY/Ul2oZxFikZsn1O8x7VmEedpWvBHnfxGD4hcWY/x4+IVMf2eptOFMrm8UsntgDMiAgmq6Y4kGK8vCmKzfnjJceNX8xUrZv4N3sp6lOrNS0I4Ug/uFf7lmfYPH01IxSAoxqmZLVju1m0fLPASHwVM/cITlBmouxUldm5mXv4aJvHfgWXTztuFBW51vCfPEqILFQNF8piIaBVvmwrVw0qvsn+6BWZG1Zd5wTByW6sHvN58HY/CvQaGqWnvmEWyabFM5ygJRs9LN9H6wfPz00y8nzzTO6Qvo+5EzcZdR+QaQypkse0+z2eNtQ4ag==$jwHjegHDcQ/ghD45Mi8Yv+pAG7Vti40EVlsgmBcBx6v1RT465oNz+kFuAbpPWApOM/YlX1QSR/dTgBzS7CIoGMz52NKbMlWmMLMmdbY99dyK1U1bITjxDU0/g6gBSCaW2NvkSQtcDhpcFRyUEtWUmJWwTKMYAnQZY8i5xnH4LZI+xUDnIL/DbklzF6w6jS/dtwW6VE0qacmVRDL8q9TDv/tOkV/ct1wE7zhFNjp6JulMBrcHcRHsv5CViPkYR/czzRUK7nC0KcshTrg6SoNqg85AeCeYC1Tdq6pZgIlkDdCEXPjh1Y837QVGpEuMXdQ68c7NSiKAEuAxT8rnvhH1420+B8Qac9qZ6RdTmH1WjLwTjo16oMNGN4usfWf/0UYjr8H9IdS4SMvzPFcjYlx31o6hospuGf/IjcNZMvdse3g1RxzTI3qZjE6QzZW3TDYxvRm8Lcd1uzzPZqIUJw=="
    }
  ],
  "Services": [
    {
      "Name": "Shopping",
      "BaseUrl": "http://localhost:8001",
      "BasePath": "",
      //"BaseUrl": "https://api-test.atrain.se",
      //"BasePath": "ecom/shopping",
      "ApiKey": "AEX123",
      "Endpoints": [
        {
          "Name": "GetTicketTypes",
          "Method": "Get",
          "Path": "TicketTypes"
        },
        {
          "Name": "GetJourney",
          "Method": "Post",
          "Path": "Journey"
        },
        {
          "Name": "Checkout",
          "Method": "Post",
          "Path": "Bookings/Checkout"
        },
        {
          "Name": "GetBooking",
          "Method": "Get",
          "Path": "Bookings/{{OrderNumber}}"
        },
        {
          "Name": "GetPdf",
          "Method": "Get",
          "Path": "Bookings/{{OrderNumber}}/pdf"
        }
      ]
    },
    {
      "Name": "Payment",
      "BaseUrl": "http://localhost:8003",
      "BasePath": "",
      //"BaseUrl": "https://api-test.atrain.se",
      //"BasePath": "ecom/payment",
      "ApiKey": "AEX123",
      "Endpoints": [
        {
          "Name": "Pay",
          "Method": "Post",
          "Path": "Payment"
        }
      ]
    }
  ],
  "Scenarios": [
    {
      "Name": "BuyTicket",
      "Instances": 1,
      "Steps": [
        {
          "Endpoint": "Shopping.GetJourney",
          "Args": "lang=sv",
          "Body": {
            "adultCount": "{{AdultCount}}",
            "youthCount": "{{YouthCount}}",
            "childCount": 3,
            "departureDate": "{{TravelDate}}",
            "returnDate": null
          },
          "Times": 1,
          "DelayMs": 600
        },
        {
          "Endpoint": "Shopping.Checkout",
          "Args": "lang=sv",
          "Body": {
            "ticketRequests": [
              {
                "ticketTypeId": 101,
                "count": "{{AdultCount}}",
                "departureDate": "{{TravelDate}}",
                "returnDate": null
              },
              {
                "ticketTypeId": 103,
                "count": "{{YouthCount}}",
                "departureDate": "{{TravelDate}}",
                "returnDate": null
              }
            ],
            "departureDate": "{{TravelDate}}",
            "returnDate": null,
            "customer": {
              "firstName": "Test",
              "lastName": "Testsson",
              "email": "test.testsson{{InstanceId}}@mailinator.com"
            },
            "suppressEmail": true
          },
          "Response": {
            "data": {
              "total": {
                "amountIncVat": "{{Amount:int}}",
                "currencyCode": "{{Currency}}"
              },
              "orderNumber": "{{OrderNumber:int}}",
              "handle": "{{Handle}}"
            }
          },
          "Times": 1,
          "DelayMs": 500
        },
        {
          "Endpoint": "Payment.Pay",
          "Args": "secure=false",
          "Body": {
            "amount": {
              "currency": "{{Currency}}",
              "value": "{{Amount}}"
            },
            "paymentMethodDetails": {
              "type": "scheme",
              "encryptedCardNumber": "{{EncryptedCardNumber}}",
              "encryptedExpiryMonth": "{{EncryptedExpiryMonth}}",
              "encryptedExpiryYear": "{{EncryptedExpiryYear}}",
              "encryptedSecurityCode": "{{EncryptedSecurityCode}}",
              "holderName": "Test Testsson"
            },
            "orderNumber": "{{OrderNumber}}",
            "returnUrl": "string",
            "browserInfo": {
              "userAgent": "string",
              "acceptHeader": "string",
              "language": "string",
              "colorDepth": 0,
              "screenHeight": 0,
              "screenWidth": 0,
              "javaEnabled": true,
              "timeZoneOffset": 0
            }
          },
          "Response": {
            "data": {
              "resultCode": "Authorised"
            }
          },
          "Times": 1,
          "DelayMs": 500
        },
        {
          "Endpoint": "Shopping.GetBooking",
          "Args": "lang=sv&handle={{Handle}}",
          "Response": {
            "data": {
              "status": "Created"
            }
          },
          "Times": 30,
          "AbortOnSuccess": true,
          "AbortOnFail": false,
          "DelayMs": 1000
        },
        {
          "Endpoint": "Shopping.GetPdf",
          "Args": "handle={{Handle}}&lang=sv",
          "Times": 1,
          "DelayMs": 500
        }
      ]
    }
  ]
}